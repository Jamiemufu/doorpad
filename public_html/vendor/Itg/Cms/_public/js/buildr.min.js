var UsersOnline={};UsersOnline.update=function(n){if("object"!=typeof n)throw"Invalid user list";var e="";for(var i in n)n.hasOwnProperty(i)&&(e+='<li class="online"><div class="media"><a href="'+_whsky.link("Itg\\Cms\\Http\\Controller\\AccountController","view_user",n[i].id)+'" class="pull-left media-thumb"><img alt="" src="'+n[i].icon+'" class="media-object"></a><div class="media-body"><strong>'+n[i].username+"</strong><small>"+n[i].role+"</small></div></div></li>");""==e&&(e='<li class="online"><small>No other users are online</small></li>'),$("#online_users_list").html(e)};var Ping={};Ping.timeout=15e3,Ping.schedule=function(){setTimeout(function(){Ping.send()},Ping.timeout)},Ping.send=function(){$.ajax({type:"GET",url:_whsky.link("Itg\\Cms\\Http\\Controller\\AccountController","ping"),success:function(n){UsersOnline.update(n),Ping.schedule()},error:function(){Ping.schedule()}})},$(document).ready(function(){Ping.send()});